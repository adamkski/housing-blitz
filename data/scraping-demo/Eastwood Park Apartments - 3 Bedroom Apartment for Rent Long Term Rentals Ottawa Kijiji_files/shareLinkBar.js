(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{"0FZ2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=h(n("XfWh")),a=h(n("q1tI")),i=(h(n("JPcv")),n("/MKj")),c=n("79bV"),s=n("fArA"),l=n("7F85"),u=n("2FDa"),f=h(n("dGFZ")),p=h(n("tW1z"));function h(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=this,o=(e=k(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==d(o)&&"function"!==typeof o?_(r):o,m(_(n),"transformAdInfo",function(){return n.props.shareLink.get("adInfo").map(function(e){return encodeURIComponent(e)}).toJS()}),n}var n,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,a.default.Component),n=t,(o=[{key:"componentDidMount",value:function(){(0,this.props.loadAdInfo)(this.isSandbox())}},{key:"shouldComponentUpdate",value:function(){return!0!==this.props.shareLink.get("loaded")}},{key:"isSandbox",value:function(){return!0===this.props.config.get("isSandbox")}},{key:"getClasses",value:function(){var e=this.props;return(0,e.JSSWith)({shareLinkBar:{sticky:!e.displayStatic}})}},{key:"render",value:function(){var e=this.props,t=e.shareLink,n=e.displayStatic,o=e.isPreviewMode,i=e.trackShareLink;if(!1===t.get("loaded"))return null;var c=this.getClasses(),s={adInfo:this.transformAdInfo(),displayStatic:n,isPreviewMode:o,trackShareLink:i};return function(e,t,n,o){r||(r="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var c in a)void 0===t[c]&&(t[c]=a[c]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:c.shareLinkBar},void 0,a.default.createElement(f.default,y({},s,{channel:"facebook"})),a.default.createElement(f.default,y({},s,{channel:"facebookMessenger"})),a.default.createElement(f.default,y({},s,{channel:"twitter"})),u.Browser.hasTouchscreen?a.default.createElement(f.default,y({},s,{channel:"whatsapp"})):a.default.createElement(f.default,y({},s,{channel:"pinterest"})),a.default.createElement(f.default,y({},s,{channel:"email"})))}}])&&b(n.prototype,o),i&&b(n,i),t}();m(v,"defaultProps",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){m(e,t,n[t])})}return e}({},c.JSSDefaultProps,{displayStatic:!1,isPreviewMode:!1}));var g=(0,o.default)((0,c.withStyles)(p.default),(0,i.connect)(function(e){return{config:e.get("config"),shareLink:e.get("shareLink")}},function(e){return(0,s.bindActionCreators)({loadAdInfo:l.loadAdInfo,trackShareLink:l.trackShareLink},e)}))(v);t.default=g},"7F85":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=d,t.loadAdInfo=function(e){return function(t,n){if(e)return t(y({title:"Sandbox ad",seoUrl:"https://www.kijiji.ca",sharingImageUrl:"http://www.kijiji.ca"}));var r=n().getIn(["shareLink"]);return!0===r.get("loading")||!0===r.get("loaded")?null:(t({type:s}),t({promise:function(e){return e.get(a.SHARE_LINK_SERVICE).then(function(e){t(y(e.body))}).catch(function(){t({type:l})})}}))}},t.trackShareLink=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{type:f,track:{event:i.EVENT_TYPE_SOCIAL,network:e,action:p,target:t}}},t.TRACKING_ACTION=t.CLICKED=t.LOAD_SUCCESS=t.LOAD_FAILURE=t.LOADING=void 0;var r=c(n("JPcv")),o=c(n("R6D8")),a=n("heNa"),i=n("D+TW");function c(e){return e&&e.__esModule?e:{default:e}}var s="shareLink/LOADING";t.LOADING=s;var l="shareLink/LOAD_FAILURE";t.LOAD_FAILURE=l;var u="shareLink/LOAD_SUCCESS";t.LOAD_SUCCESS=u;var f="shareLink/CLICKED";t.CLICKED=f;var p="ShareAdBegin";t.TRACKING_ACTION=p;var h=r.default.fromJS({adInfo:{},loaded:!1,loading:!1});function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return e.merge({loading:!0});case l:return e.merge({loading:!1});case u:return e.merge({adInfo:t.data,loaded:!0,loading:!1});case f:default:return e}}function y(e){return{type:u,data:e}}o.default.register("shareLink",d)},cDO9:function(e,t,n){e.exports={shareLink__default:"shareLink__default-1808712150",shareLink__static:"shareLink__static-3702321469",shareLink__email:"shareLink__email-978531513",shareLink__facebook:"shareLink__facebook-4256317963",shareLink__facebookMessenger:"shareLink__facebookMessenger-775834858",shareLink__pinterest:"shareLink__pinterest-3444266799",shareLink__twitter:"shareLink__twitter-3968125872",shareLink__whatsapp:"shareLink__whatsapp-467283295",shareLinkIcon:"shareLinkIcon-1118708670",shareLinkIcon__email:"shareLinkIcon__email-401091451",shareLinkIcon__facebook:"shareLinkIcon__facebook-2744063645",shareLinkIcon__facebookMessenger:"shareLinkIcon__facebookMessenger-3573594089",shareLinkIcon__pinterest:"shareLinkIcon__pinterest-1173617095",shareLinkIcon__twitter:"shareLinkIcon__twitter-779074740",shareLinkIcon__whatsapp:"shareLinkIcon__whatsapp-1295966556",shareLinkIcon__default:"shareLinkIcon__default-520390224"}},dGFZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=f(n("q1tI")),a=n("79bV"),i=n("0Ogn"),c=n("2FDa"),s=n("uN28"),l=f(n("L0IU")),u=f(n("cDO9"));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t,n,o){r||(r="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var c in a)void 0===t[c]&&(t[c]=a[c]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){m(e,t,n[t])})}return e}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e,t){var n=(0,s.hasQueryParams)(t)?"&":"?",r=encodeURIComponent("".concat(n,"utm_source=").concat(e,"&utm_medium=social&utm_campaign=socialbuttons&utm_content=vip"));return"".concat(t).concat(r)},g={target:"_blank",rel:"noopener noreferrer"},L={email:{icon:"icon-share-mail",intlKey:"withEmail",name:"Email",shareUrl:function(e,t){return"mailto:?subject=".concat(t).concat(e.title,"&body=%0A%0A%0A").concat(e.seoUrl)}},facebook:{icon:"icon-share-facebook",intlKey:"withFacebook",name:"Facebook",popup:{height:661,width:555},shareUrl:function(e){return"https://www.facebook.com/sharer/sharer.php?u=".concat(v("facebook",e.seoUrl))},targetType:g},facebookMessenger:{icon:"icon-facebook-messenger",intlKey:"withFacebookMessenger",name:"Facebook Messenger",shareUrl:function(e){var t="".concat(v("facebook-messenger",e.seoUrl));return c.Browser.isPhone?"fb-messenger://share?link=".concat(t):"http://www.facebook.com/dialog/send?app_id=1292765327416975&link=".concat(t,"&redirect_uri=").concat(t)},targetType:c.Browser.isPhone?void 0:g},pinterest:{icon:"icon-share-pinterest",intlKey:"withPinterest",name:"Pinterest",shareUrl:function(e){return"http://www.pinterest.com/pin/create/button/?description=".concat(e.title,"&media=").concat(e.sharingImageUrl,"&url=").concat(v("pinterest",e.seoUrl))},targetType:g},twitter:{icon:"icon-twitter",intlKey:"withTwitter",name:"Twitter",popup:{height:350,width:550},shareUrl:function(e){return"https://twitter.com/intent/tweet?text=".concat(e.title,"&url=").concat(v("twitter",e.seoUrl))},targetType:g},whatsapp:{icon:"icon-share-whats-app",intlKey:"withWhatsApp",name:"WhatsApp",shareUrl:function(e){return"whatsapp://send?text=".concat(v("whatsapp",e.seoUrl))}}},S=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=this,o=(e=k(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==p(o)&&"function"!==typeof o?_(r):o,m(_(n),"onClick",function(e){var t=n.props,r=t.adInfo,o=t.channel,a=t.trackShareLink;e.preventDefault();var i=n.sharingUrl(),c=L[o],s=c.name,l=c.popup,u=c.targetType,f=u?u.target:"_self",p=l?"width=".concat(l.width,",height=").concat(l.height):"";a(s,decodeURIComponent(r.seoUrl)),window.open(i,f,p).opener=null}),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,o.default.Component),n=t,(r=[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"getClasses",value:function(){var e=this.props,t=e.JSSWith,n=e.channel,r=e.displayStatic,o={email:"email"===n,facebook:"facebook"===n,facebookMessenger:"facebookMessenger"===n,pinterest:"pinterest"===n,twitter:"twitter"===n,whatsapp:"whatsapp"===n};return t({shareLink:y({default:!r,static:r},o),shareLinkIcon:y({default:!r,static:r},o)})}},{key:"sharingUrl",value:function(){var e=this.props,t=e.adInfo,n=e.channel,r=e.intl,o=encodeURIComponent(r("social","emailSubjectPrefix"));return L[n].shareUrl(t,o)}},{key:"render",value:function(){var e=this.props,t=e.channel,n=e.isPreviewMode,r=e.intl;if(void 0===L[t])return null;var a=this.getClasses(),i=L[t].icon,c=r("social",L[t].intlKey),s=L[t].targetType,u=d(l.default,{glyph:i,className:a.shareLinkIcon,title:c});return n?d("span",{className:"".concat(a.shareLink," ").concat(t)},void 0,u):o.default.createElement("a",h({className:"".concat(a.shareLink," ").concat(t),href:this.sharingUrl()},s,{title:c,onClick:this.onClick}),u)}}])&&b(n.prototype,r),a&&b(n,a),t}();m(S,"defaultProps",y({},a.JSSDefaultProps,{displayStatic:!1,isPreviewMode:!1}));var O=(0,i.withIntl)()((0,a.withStyles)(u.default)(S));t.default=O},tW1z:function(e,t,n){e.exports={shareLinkBar:"shareLinkBar-3072315719",shareLinkBar__sticky:"shareLinkBar__sticky-4057324774"}}}]);